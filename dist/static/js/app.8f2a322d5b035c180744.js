webpackJsonp([1],{"/eIm":function(t,e,a){t.exports=a.p+"static/img/logo2.25fc560.png"},KhS9:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("//Fk"),s=a.n(i),n=a("7+uW"),r=a("mtWM"),o=a.n(r),l=a("Rf8U"),c=a.n(l),m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var u=a("VU/8")({name:"App",created:function(){},mounted:function(){}},m,!1,function(t){a("PJYO")},null,null).exports,d=a("/ocq"),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("div",[a("ul",{staticClass:"nav-ul"},[a("li",{staticClass:"nav-li"},[a("span",{on:{click:function(e){return t.routerTo("dayRecords")}}},[t._v("日历日历")])])])])])},staticRenderFns:[]};a("VU/8")({name:"helloWorld",data:function(){return{msg:"page :helloWorld"}},watch:{},methods:{routerTo:function(t){this.$router.push(t)}},mounted:function(){},components:{}},p,!1,function(t){a("TCL3")},"data-v-398ee36a",null).exports;var v={name:"errorPage",data:function(){return{msg:"errorPage 错误页面"}},methods:{},mounted:function(){console.log(this.msg),document.title="error"}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-page",attrs:{id:"error-page"}},[e("div",{staticClass:"content-box"},[e("van-notice-bar",{attrs:{wrapable:"",scrollable:!1}},[this._v(this._s(this.$route.query.msg))])],1)])},staticRenderFns:[]};var f=a("VU/8")(v,h,!1,function(t){a("KhS9")},"data-v-1692f7d2",null).exports,g={name:"dayRecords",data:function(){var t=new Date;return t.setTime((new Date).getTime()),t=t.toLocaleDateString().split("/").join("-"),console.log(t),{baseUrl:"/api/stock/listForCalendar",today:t.toString(),tableData:[],value:[],timeList:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]}}},methods:{cellStyle:function(t){var e=t.row,a=(t.column,t.rowIndex,t.columnIndex);if(a>=1){var i=this.timeList[a-1],s="";return this.timeToTimestamp(i.date)-this.timeToTimestamp(this.today)<864e5&&this.timeToTimestamp(i.date)-this.timeToTimestamp(this.today)>0&&(s="today"),this.timeToTimestamp(e.stockDate.split(" ")[0])<=this.timeToTimestamp(i.date)&&this.timeToTimestamp(e.subEndDate.split(" ")[0])>=this.timeToTimestamp(i.date)?s+" blue":e.luckyDate.split(" ")[0]==i.date?s+" green":this.timeToTimestamp(i.date)-this.timeToTimestamp(e.subEndDate.split(" ")[0])>0&&this.timeToTimestamp(e.luckyDate.split(" ")[0])>this.timeToTimestamp(i.date)?s+" gray":s}},headerStyle:function(t){t.row,t.column,t.rowIndex;var e=t.columnIndex;if(e>=1){var a=this.timeList[e-1],i="";return this.timeToTimestamp(a.date)-this.timeToTimestamp(this.today)<864e5&&this.timeToTimestamp(a.date)-this.timeToTimestamp(this.today)>0&&(i="today"),i}},timestampToTime:function(t){var e=new Date(t);return e.getFullYear()+"-"+((e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+(e.getDate()<10?"0"+e.getDate():e.getDate())},timeToTimestamp:function(t){var e=new Date(t);return Date.parse(e)},getWeek:function(t){var e=void 0;return 0==t.getDay()&&(e="日"),1==t.getDay()&&(e="一"),2==t.getDay()&&(e="二"),3==t.getDay()&&(e="三"),4==t.getDay()&&(e="四"),5==t.getDay()&&(e="五"),6==t.getDay()&&(e="六"),e},getData:function(){var t=this;if(this.getTimeList(),this.value.length){var e=this.baseUrl+"?beginDate="+this.value[0]+"&endDate="+this.value[1];this.axios.get(e).then(function(e){if(200!=e.status||0!=e.data.code&&200!=e.data.code){var a=e.data&&e.data.msg||"接口返回失败";t.$message.error(a)}else{var i=e.data&&e.data.data;t.tableData=i}})}},getTimeList:function(){var t=this.value[0],e=this.value[1],a=(this.timeToTimestamp(e)-this.timeToTimestamp(t))/864e5;this.timeList=[];for(var i=0;i<a;i++){var s=this.timeToTimestamp(t)+864e5*i,n=this.timestampToTime(s);this.timeList.push({date:n,week:this.getWeek(new Date(n))})}}},mounted:function(){document.title="日历";var t=new Date,e=new Date;e.setTime(e.getTime()-432e6),t.setTime(t.getTime()+216e7),e=e.toLocaleDateString().split("/").join("-"),t=t.toLocaleDateString().split("/").join("-"),this.value=[e,t],this.getData()},destroyed:function(){}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"day_records"},[t._m(0),t._v(" "),a("div",{staticClass:"centent"},[a("div",[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.getData}},[t._v("查询")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"header-cell-class-name":t.headerStyle,"cell-class-name":t.cellStyle,border:!0}},[a("el-table-column",{attrs:{label:"股票名称",width:"240",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"right",width:"260"}},[a("el-form",[a("el-form-item",{attrs:{label:"股票名称"}},[a("span",[t._v(t._s(e.row.stockName))])]),t._v(" "),a("el-form-item",{attrs:{label:"股票代码"}},[a("span",[t._v(t._s(e.row.stockCode))])]),t._v(" "),a("el-form-item",{attrs:{label:"入场费"}},[a("span",[t._v(t._s(e.row.entranceFee))])]),t._v(" "),a("el-form-item",{attrs:{label:"每手股数"}},[a("span",[t._v(t._s(e.row.stockNumber))])]),t._v(" "),a("el-form-item",{attrs:{label:"乙组"}},[a("span",[t._v(t._s(e.row.yiZhuNumber))])]),t._v(" "),a("el-form-item",{attrs:{label:"招股价"}},[a("span",[t._v(t._s(e.row.priceRange))])]),t._v(" "),a("el-form-item",{attrs:{label:"发行价"}},[a("span",[t._v(t._s(e.row.ipoPrice||"暂无"))])])],1),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("p",[t._v(t._s(e.row.stockName)+" - ("+t._s(e.row.stockCode)+")")])])],1)]}}])}),t._v(" "),t._l(t.timeList,function(e,i){return a("el-table-column",{key:i,attrs:{label:e.date.substring(5)+" / "+e.week,align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.luckyDate.split(" ")[0]==e.date?a("p",[t._v("暗盘")]):t._e(),t._v(" "),i.row.stockDate.split(" ")[0]==e.date?a("p",[t._v("认购")]):t._e()]}}],null,!0)})})],2)],1),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("img",{attrs:{src:a("/eIm"),alt:"",width:"150",height:"100"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("img",{attrs:{src:a("Seto"),alt:"",width:"400"}}),this._v(" "),e("p",[this._v("© 1999-2020 版权所有 浙ICP备13033767号-17\n\n    ")])])}]};var _=a("VU/8")(g,T,!1,function(t){a("TCyw"),a("S6gB")},"data-v-0db28ae3",null).exports;n.default.use(d.a);var y=new d.a({routes:[{path:"/",name:"dayRecords",component:_},{path:"/errorPage",name:"errorPage",component:f},{path:"/dayRecords",name:"dayRecords",component:_}]}),w=a("zL8q"),D=a.n(w);a("tvR6");n.default.config.productionTip=!1,n.default.use(c.a,o.a),n.default.use(D.a),o.a.interceptors.response.use(function(t){return t},function(t){return s.a.reject(t)}),new n.default({el:"#app",router:y,components:{App:u},template:"<App/>"})},PJYO:function(t,e){},S6gB:function(t,e){},Seto:function(t,e,a){t.exports=a.p+"static/img/footer.dceb6eb.png"},TCL3:function(t,e){},TCyw:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8f2a322d5b035c180744.js.map